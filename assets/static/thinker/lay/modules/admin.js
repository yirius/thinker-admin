/** thinker-admin-css-v1.0.0 MTI License By https://github.com/yirius/thinker-admin-css.git */
 ;layui.extend({view:"lay/modules/view"}).define(["conf","view","jquery"],function(e){window.POPUP_DATA={};var n=layui.conf,r=layui.view,i=layui.element,a=layui.jquery;layui.extend(n.extend);var t=a(window),o=a(document),l=(a("body"),{route:layui.router(),closeOnceHashChange:!1,ie8:r.ie8,get:r.request,appBody:null,shrinkCls:"thinker-sidebar-shrink",isInit:!1,routeLeaveFunc:null,loginToken:null,getScreenType:function(){var e=t.width();return 1200<e?3:992<e?2:768<e?1:0},routeLeave:function(e){this.routeLeaveFunc=e},session:r.session,render:function(e){"string"==typeof e&&(e=a("#"+e));var t="SCRIPT"==e.get(0).tagName?"next":"find";e[t]("[is-template]").remove(),r.parse(e)},initPage:function(){layui.each(layui.conf.views.style,function(e,t){layui.link(t+"?v="+n.v)}),this.initView(l.route)},initView:function(t){if(l.route.href&&"/"!=l.route.href||(t=this.route=layui.router("#"+n.views.entry)),t.fileurl="/"+t.path.join("/"),1==n.login.loginCheck)if(this.session.token()){if(t.fileurl==n.login.loginPage)return void this.navigate("/")}else if(t.fileurl!=n.login.loginPage)return void this.session.logout();if(-1===a.inArray(t.fileurl,n.indPage)){function e(e){1==n.views.viewTabs?r.renderTabs(t):r.render(t.fileurl)}null==r.containerBody?r.renderLayout(function(){i.render("nav","thinker-sidebar"),e()}):e()}else r.renderIndPage(t.fileurl,function(){1==n.views.viewTabs&&r.tab.clear()})},sidebarFocus:function(e){e=e||this.route.href;var t=a("#"+n.views.sidebar).find('[lay-href="'+e+'"]').eq(0);0<t.length&&(t.parents(".layui-nav-item").addClass("layui-nav-itemed"),t.click())},flexible:function(e){1==e?r.container.removeClass(this.shrinkCls):r.container.addClass(this.shrinkCls)},on:function(e,t){return layui.onevent(n.eventName,"system("+e+")",t)},fire:function(e,t){layui.event(n.eventName,"system("+e+")",t)},csshref:function(e){return e=null==e?this.route.path.join("/"):e,n.views.css+"views/"+e+".css?v="+n.v},prev:function(e){null==e&&(e=-1),window.history.go(e)},navigate:function(e){e==n.views.entry&&(e="/"),window.location.hash=e},modal:{info:function(e,t){(t=t||{}).titleIcoColor=t.titleIcoColor||"#5a8bff",t.titleIco=t.titleIco||"exclaimination",t.title=['<i class="layui-icon layui-icon-'+t.titleIco+'" style="font-size:12px;background:'+t.titleIcoColor+';display:inline-block;position:relative;top:-2px;height:24px;line-height:24px;text-align:center;width:24px;color:#fff;border-radius:50%;margin-right:10px;"></i>'+(t.title||"提醒"),"background:#fff;border:none;font-weight:bold;font-size:18px;color:#08132b;padding-top:20px;height:46px;line-height:46px;padding-bottom:0;"],t=a.extend({btn:["我知道了"],skin:"layui-layer-admin-modal",area:[l.getScreenType()<1?"90%":"50%"],closeBtn:0,shadeClose:!0},t),layer.alert(e,t)},success:function(e,t){(t=t||{}).titleIco="ok",t.titleIcoColor="#30d180",this.info(e,t)},warn:function(e,t){(t=t||{}).titleIco="exclaimination",t.titleIcoColor="#ff9900",this.info(e,t)},error:function(e,t){(t=t||{}).titleIco="close",t.titleIcoColor="#ed4014",this.info(e,t)}},isUrl:function(e){return/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/.test(e)},popup:r.popup,http:{request:r.request,_request:function(e,t,i,n,o,l){r.request({type:e,url:t,data:i,done:function(e){"function"==typeof n&&n(e.code,e.msg,e.data,e)},complete:function(e,t){if(1===e){if("function"==typeof o)return o(t.code,t.msg,t.data,t)}else if("function"==typeof l)return l(e,t)}})},get:function(e,t,i,n,o){this._request("GET",e,t,i,n,o)},post:function(e,t,i,n,o){this._request("POST",e,t,i,n,o)},put:function(e,t,i,n,o){this._request("PUT",e,t,i,n,o)},delete:function(e,t,i,n,o){this._request("DELETE",e,t,i,n,o)}},reloadTable:function(){a(".thinker-tabs-menu .thinker-tabs-active").each(function(){var e=a(this).attr("lay-url");a("#"+n.views.containerBody).find(".thinker-tabs-item[lay-url='"+e+"']").each(function(){a(this).find("table").each(function(){this.id&&layui.tableplus.reload(this.id)})})})},callEvents:function(e){f[e]&&f[e].call(this)}}),s=!1;function u(){l.flexible(!1);var e=layui.device();(e.weixin||e.android||e.ios)&&a(document).on("click","#"+n.views.containerBody,function(){l.getScreenType()<2&&!r.container.hasClass(l.shrinkCls)&&l.flexible(!1)}),s=!0}t.on("resize",function(e){if(l.getScreenType()<2){if(1==s)return;u()}else s=!1}).on("hashchange",function(e){l.getScreenType()<2&&l.flexible(!1),l.route=layui.router(),layui.layer.closeAll(),l.initView(l.route)});var c="."+l.shrinkCls+" #"+n.views.sidebar+" .layui-nav-item a",f=a.extend({flexible:function(){var e=r.container.hasClass(l.shrinkCls);l.flexible(e),l.session.set("flexible",e)},refresh:function(){var e=l.route.href;1==n.views.viewTabs?r.tab.refresh(e):r.render(e)},prev:function(){l.prev()},logout:function(){l.session.logout()},fullscreen:function(e){var t="layui-icon-screen-full",i="layui-icon-screen-restore",n=e.find(".layui-icon");n.hasClass(t)?((e=document.body).webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.requestFullScreen&&e.requestFullscreen(),n.removeClass(t).addClass(i)):((e=document).webkitCancelFullScreen?e.webkitCancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.cancelFullScreen?e.cancelFullScreen():e.exitFullscreen&&e.exitFullscreen(),n.removeClass(i).addClass(t))}},n.events);if(o.on("keydown",function(e){13==(document.all?window.event:e).keyCode&&a(":focus").parents(".layui-form").find("[lay-submit]").click()}).on("click","[lay-href]",function(e){var t=a(this).attr("lay-href"),i=a(this).attr("target");if(""!=t)return a.isFunction(l.routeLeaveFunc)?l.routeLeaveFunc(l.route,t,n):n(),!1;function n(){"__blank"==i?window.open(t):l.navigate(t)}}).on("click","[lay-photos]",function(e){var n=this,o=[],l=0,r="photos"+(new Date).getTime();a('[lay-photos="'+a(this).attr("lay-photos")+'"]').each(function(e,t){n==t&&(l=e);var i=a(t);o.push({alt:i.attr("alt"),pid:i.attr("id")||r+"n",src:i.attr("src")||i.attr("href"),thumb:i.attr("src")||i.attr("href")})}),layui.layer.photos({photos:{title:"相册预览",id:r,start:l,data:o}})}).on("click","[lay-popup]",function(e){var t=a(this).attr("lay-popup");return l.popup(0===t.indexOf("{")?new Function("return "+a(this).attr("lay-popup"))():{url:t}),!1}).on("mouseenter","[lay-tips]",function(e){var t=a(this).attr("lay-tips"),i=a(this).attr("lay-dire")||3;t&&layui.layer.tips(t,a(this),{tips:[i,"#263147"]})}).on("mouseleave","[lay-tips]",function(e){layer.closeAll("tips")}).on("click","*["+n.eventName+"]",function(e){var t=a(this),i=t.attr(n.eventName);f[i]&&f[i](t),l.fire(i,t)}).on("click",c,function(e){1!=s&&0<a(this).parent().find(".layui-nav-child").length&&(l.flexible(!0),layer.closeAll("tips"))}).on("mouseenter",c,function(e){var t=a(this).attr("title");t&&layui.layer.tips(t,a(this).find(".layui-icon"),{tips:[2,"#263147"]})}).on("mouseleave",c,function(e){layer.closeAll("tips")}),l.getScreenType()<2)u();else{var h=l.session.get("flexible");l.flexible(null===h||h)}e("admin",l)});